/* Written by Erik Terwan - MIT license - https://github.com/terwanerik */
!function(){"use strict";var t=function(t){this.element=t,this.showCallback=null,this.hideCallback=null,this.visibleClass="visible",this.hiddenClass="invisible",this.xOffset=0,this.yOffset=0,this.addWidth=!1,this.addHeight=!1,this.once=!1,this.left=function(t){return function(){var e=t.element.getBoundingClientRect().left;return t.addWidth&&(e+=t.width()),e}}(this),this.top=function(t){return function(){var e=t.element.getBoundingClientRect().top;return t.addHeight&&(e+=t.height()),e}}(this),this.width=function(t){return function(){return t.element.offsetWidth}}(this),this.height=function(t){return function(){return t.element.offsetHeight}}(this),this.addClass=function(t){return function(e,i){t.element.classList.contains(e)||(t.element.classList.add(e),i&&i())}}(this),this.removeClass=function(t){return function(e,i){t.element.classList.contains(e)&&(t.element.classList.remove(e),i&&i())}}(this),this.init=function(t){return function(){var e=t.element.getAttribute("data-scroll");t.showCallback=t.element.getAttribute("data-scroll-showCallback"),t.hideCallback=t.element.getAttribute("data-scroll-hideCallback");var i=e.split("toggle(");if(i.length>1){var n=i[1].split(")")[0].split(",");t.visibleClass=n[0].trim().replace(".",""),t.hiddenClass=n[1].trim().replace(".","")}var l=e.split("offset(");if(l.length>1){var s=l[1].split(")")[0].split(",");t.xOffset=parseInt(s[0].replace("px","")),t.yOffset=parseInt(s[1].replace("px",""))}return t.addWidth=e.indexOf("addWidth")>-1,t.addHeight=e.indexOf("addHeight")>-1,t.once=e.indexOf("once")>-1,t}}(this)},e=function(){function e(){var t=r.scrollElement.innerWidth,d=r.scrollElement.innerHeight,h=r.bindElement.scrollTop,c=r.bindElement.scrollLeft;if(s.left!=c||s.top!=h){for(var f=0;f<n.length;f++){var u=n[f],m=u.left(),w=u.top();s.left>c?(m-=u.xOffset,u.addWidth?m-=u.width():m+=u.width()):s.left>c&&(m+=u.xOffset),s.top>h?(w-=u.yOffset,u.addHeight?w-=u.height():w+=u.height()):s.top<h&&(w+=u.yOffset),t>m&&m>0&&d>w&&w>0?(u.addClass(u.visibleClass,function(){u.showCallback&&i(u,u.showCallback)}),u.removeClass(u.hiddenClass),u.once&&n.splice(f,1)):(u.addClass(u.hiddenClass),u.removeClass(u.visibleClass,function(){u.hideCallback&&i(u,u.hideCallback)}))}for(var p=0;p<l.length;p++){var b=l[p];b.call(r,d,r.bindElement.scrollTop)}s.left=c,s.top=h}n.length>0||l.length>0?(a=!0,o(e)):a=!1}function i(t,e){var i=e.split("("),n=i[0];i=i.length>1?i[1].split(")")[0]:void 0,window[n]&&window[n].call(t.element,i)}this.scrollElement=window,this.bindElement=document.body;var n=[],l=[],s={left:0,top:0},o=window.requestAnimationFrame,a=!0;this.init=function(i){return function(l,r){return void 0!=l&&null!=l?i.bindElement=l:i.bindElement=document.body,void 0!=r&&null!=r?i.scrollElement=r:i.scrollElement=window,n=[].slice.call(i.bindElement.querySelectorAll("[data-scroll]")),n=n.map(function(e){var i=new t(e);return i.init()}),o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||i.scrollElement.onscroll,s.left=i.bindElement.scrollLeft,s.top=i.bindElement.scrollTop,n.length>0?(a=!0,e()):a=!1,i}}(this),this.attach=function(t){return function(i){return l.push(i),a||(a=!0,e()),t}}(this),this.detach=function(t){return function(e){return l.splice(l.indexOf(e),1),t}}(this);var r=this};window.ScrollTrigger=new e}();